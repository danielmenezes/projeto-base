@if(dataSource.data.length) {
  <div class="table-container">
    <table mat-table [dataSource]="dataSource" matSort class="mat-elevation-z8">
      
      @for (column of columns; track column.key) {

        <ng-container [matColumnDef]="column.key">
          <th mat-header-cell *matHeaderCellDef mat-sort-header>
            {{ column.label }}
          </th>
          <td mat-cell *matCellDef="let element; let i = index;">
            @if(column.editable) {
              <app-inputs
                type="coin"
                [max]="999.99"
                [min]="-999.99"
                [allowNegativeNumbers]="true"
                [(ngModel)]="element[column.key]"
                (ngModelChange)="onValueChange(element, column.key, i)"
              />
            } @else {
              {{ element[column.key] }}
            }
          </td>
        </ng-container>
      }

      <!-- Linhas -->
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <!-- Paginação -->
    <mat-paginator 
      [pageSize]="pageSize"
      [pageSizeOptions]="[5, 10, 20]"
      [length]="totalItems"
      (page)="onPageChange($event)"
      showFirstLastButtons
    >
    </mat-paginator>
  </div>
} @else {
  <div class="no-data-message">
    Não há dados disponíveis.
  </div>
}